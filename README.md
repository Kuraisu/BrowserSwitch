# BrowserSwitch
Открывайте разные ссылки в разных браузерах на Mac OS X

# Установка
1. Скачайте файл `bin/BrowserSwitch.zip`
2. Распакуйте его
3. Перенесите приложение BrowserSwitch в папку `Приложения` на вашей Mac OS X
4. Дважды кликните на приложении для того, что бы оно зарегистрировалось в системе как браузер
5. Если система заблокировала запуск приложения, зайдите в настройки безопасности в панели управления и разрешите приложению запуск
6. Зайдите в общие настройки в панели управления и выберите `BrowserSwitch` как браузер по умолчанию
7. В этом же списке можно увидеть все доступные на этой системе браузеры
8. Для настройки правил читайте пункт **Настройка**

# Принцип работы
BrowserSwitch подгружает правила из файла [`checks.json`](https://github.yandex-team.ru/chryse/BrowserSwitch/blob/master/checks.json):
```json
[
    {
        "browser": "Yandex",
        "patterns": [
            "[a-zA-Z0-9-_.]*\\.yandex-team.ru(?::[0-9]+)?",
            "partner2-local.yandex.ru(?::[0-9]+)?",
            "partner-creator01[ef].yandex.ru(?::[0-9]+)?"
        ]
    },
    {
        "browser": "Opera",
        "default": true
    }
]
```

## Свойства записей в checks.json
* `browser` — Указывает броузер через который открывать ссылки
* `patterns` — Список регулярных выражений, по которым проверяются ссылки
* `default` — Если установлен в `true`, то ссылка будет немедленно открыта в броузере, указаном в этом блоке. Используется для установки броузера по умолчанию в конце списка, например таким блоком: `{"browser": "Safari", "default": true}`

# Настройка
Правила можно отредактировать не пересобирая приложение.
Для этого достаточно открыть папку с приложениями, куда был установлен `BrowserSwitch`, нажать на нем правой кнопкой мыши, выбрать пункт меню "Show Package Contents"/"Показать содержимое пакета", внутри пакета перейти в папку `Contents/Resources` и отредактировать файл `checks.json`

# Сборка
Для самостоятельной сборки, понадобится приложение [Platypus](http://www.sveinbjorn.org/platypus).
1. Установите `Platypus`
2. Откройте файл `BrowserSwitch.platypus`
3. Убедитесь, что в качестве скрипта выбран правильный файл по правильному пути
4. Убедитесь что файл `checks.json` включен в сборку. Если он красный, удалите его из списка и добавьте вновь
5. Нажмите кнопку `Create App`
6. Выберите куда сохранить приложение
7. Перенесите созданое приложение в папку с приложениями
